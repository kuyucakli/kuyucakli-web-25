---
import BtnBack from "./BtnBack.astro";
import { IconBackArrow } from "./Icons";
const { nextItem, prevItem, category } = Astro.props;
let prevHref, nextHref;

if (category) {
  prevHref = `/posts/${category}-${prevItem?.id}`;
  nextHref = `/posts/${category}-${nextItem?.id}`;
} else {
  prevHref = `${prevItem?.id}`;
  nextHref = `${nextItem?.id}`;
}
---

<nav id="nav-directional">
  <BtnBack />

  <div>
    {prevItem && <a href={prevHref}>Prev</a>}
    {nextItem && <a href={nextHref}>Next</a>}
  </div>
</nav>

<style>
  nav {
    width: 100%;
    max-width: 640px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--s-sm-2);
    position: fixed;
    bottom: var(--s-sm-2);
    left: 50%;
    transform: translateX(-50%);
    z-index: 999;
    visibility: visible;
    padding-left: clamp(var(--s-sm-0), 5vw, var(--s-md-0));
    padding-right: clamp(var(--s-sm-0), 5vw, var(--s-md-0));
  }

  nav > div {
    display: flex;
    justify-content: end;
    gap: var(--s-md-2);
  }
</style>

<script>
  // import { debounce } from "../utils";
  // document.addEventListener("astro:after-swap", init);

  // init();

  // function init() {
  //   const navDirectionalEl = document.querySelector("#nav-directional");

  //   if (!navDirectionalEl) return;
  //   window.addEventListener(
  //     "scroll",
  //     debounce(() => {
  //       if (window.scrollY > 100) {
  //         navDirectionalEl.style.visibility = "visible";
  //       } else {
  //         navDirectionalEl.style.visibility = "hidden";
  //       }
  //     }, 20)
  //   );
  // }
</script>
